<!doctype html>
<html lang="ko"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>코드숨 React 5기 - 5주차 회고 - dev&#039;log</title><meta description="Dave&amp;#39;s blog"><meta property="og:type" content="blog"><meta property="og:title" content="코드숨 React 5기 - 5주차 회고"><meta property="og:url" content="http://psy082.github.io/"><meta property="og:site_name" content="dev&#039;log"><meta property="og:description" content="Dave&amp;#39;s blog"><meta property="og:locale" content="ko_KR"><meta property="article:published_time" content="2021-09-13T14:10:00.000Z"><meta property="article:modified_time" content="2021-09-13T16:58:40.664Z"><meta property="article:author" content="Dave Kim"><meta property="article:tag" content="programming"><meta property="article:tag" content=" web"><meta property="article:tag" content=" http"><meta property="article:tag" content=" react"><meta property="article:tag" content=" django"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="http://psy082.github.io/img/default/dev_logo.jpeg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://psy082.github.io/2021/09/13/codesum-week-5/"},"headline":"dev'log","image":["http://psy082.github.io/img/post/weekly_review.png"],"datePublished":"2021-09-13T14:10:00.000Z","dateModified":"2021-09-13T16:58:40.664Z","author":{"@type":"Person","name":"Dave Kim"},"description":"5주차 주간 회고"}</script><link rel="canonical" href="http://psy082.github.io/2021/09/13/codesum-week-5/"><link rel="icon" href="/img/default/web-development.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-163248250-1" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-163248250-1');</script><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/default/dev_logo.jpeg" alt="dev&#039;log" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/psy082/psy082.git"><i class="fab fa-github"></i></a><a class="navbar-item search" title="검색" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-9-tablet is-9-desktop is-9-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="thumbnail" src="/img/post/weekly_review.png" alt="코드숨 React 5기 - 5주차 회고"></span></div><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2021-09-13T14:10:00.000Z" title="2021-09-13T14:10:00.000Z">2021-09-13</time><span class="level-item"><a class="link-muted" href="/categories/til/">TIL</a></span></div></div><h1 class="title is-3 is-size-4-mobile">코드숨 React 5기 - 5주차 회고</h1><div class="content"><p>5주차 주간 회고</p>
<a id="more"></a>

<h2 id="Facts"><a href="#Facts" class="headerlink" title="Facts"></a>Facts</h2><ul>
<li>코드숨 5주차 과제 수행<ul>
<li>레스토랑 조회 구현하기</li>
</ul>
</li>
</ul>
<h2 id="Feelings"><a href="#Feelings" class="headerlink" title="Feelings"></a>Feelings</h2><ul>
<li><p>과제 첫 테스트 작성 시에, 테스트 내용에 redux에 대한 mock이 포함되어 있었다. 그런데 이렇게 작성을 하다보니 mock을 한 redux 초기 상태를 어디에 위치시켜야 할지 혼동이 왔다. 이에 대해 처음부터 redux에 대한 mock을 추가하지 말고 먼저 컴포넌트가 제공해야 하는 기능들을 가장 쉽고 빠르게 작성한 뒤에 green을 통과 하고 나서 mock이 필요한 부분을 찾아서 mock을 추가해야 한다는 피드백을 받았다. 피드백 대로 redux에 대한 mock을 다 지우고 화면을 그리고 기능을 만족하도록 빠르게 작성하고 리팩터링을 하는 방식으로 진행을 했더니 테스트 작성과 코드 구현이 처음보다 수월하게 진행되었다. 처음부터 redux를 넣으려고 했던 것은 여러 단계를 뛰어 넘고 진행하려는 욕심때문이었는데, 다소 지루하더라도 쉽고 빠른 구현 이후에 리팩토링하는 방식으로 진행해야 겠다고 생각했다.</p>
</li>
<li><p>redux thunk의 경우에는 테스트를 어떻게 작성해야 할 지 고민이었다. api 통신 부분을 mocking하고 이후에 mocking한 데이터 결과를 action으로 잘 넘기는 지를 테스트 해야하는 지 고민했는데, 결과적으로 나는 테스트를 통해 어떤 피드백을 받기를 원하는가?가 항상 어려운 지점이라는 것을 느꼈다. fetch에 대한 mocking을 어떻게 하는지 글을 찾아보다가 <a href="https://kentcdodds.com/blog/stop-mocking-fetch">이 글</a>을 읽게 되었는데, 많은 부분을 이해하지 못했지만 중요한 지점이라고 생각한 것은 그 테스트가 실제로 나에게 무엇을 보장해 주는지를 생각하고 테스트를 작성하는 가?라는 질문이었다. 아직 thunk 테스트에서 무엇을 확인해야 할지 감이 잘 잡히지 않았다. 결론적으로 redux thunk 관련된 테스트 작성은 과제 풀이의 도움을 받아야 겠다고 생각했다.</p>
</li>
<li><p>3주차 과제 피드백에서 beforeAll, beforeEach등으로 안전한 테스트를 제공할 수 있다는 내용이 있었는데, 테스트 관련 자료들을 읽으면서 테스트 작성 시에, 특히 mock을 구성할 때 앞서서 작성한 mock이 다른 테스트에 영향을 미칠 수 있는 지점에 대해서도 고려를 해야된다는 것을 알게 되었다. 역시 피드백 내용은 그냥 한귀로 흘리면 안된다는 것을 느꼈다…(잘 몰라서 중요한 걸 들어도 놓치는 것 같다…)</p>
</li>
</ul>
<h2 id="Findings"><a href="#Findings" class="headerlink" title="Findings"></a>Findings</h2><ul>
<li><p>지루하더라도 컴포넌트가 제공해야 할 최소한의 기능 명세와 빠르고 쉬운 구현, 이후에 리팩토링을 해야한다.</p>
</li>
<li><p>테스트를 통해 어떤 피드백을 받고 싶은 지 생각하면서 테스트 작성해야 한다. 기계적으로 아무 생각없이 이전에 작성했던 테스트 코드를 다시 작성하면 안된다.</p>
</li>
<li><p>테스트에 mock이 자주 등장하는 데, mock이 테스트 할 때 왜 필요한지 몰랐다. <a href="https://minoo.medium.com/%EB%B2%88%EC%97%AD-jest-mocks%EC%97%90-%EB%8C%80%ED%95%9C-%EC%9D%B4%ED%95%B4-34f75b0f7dbe">이 글</a>을 읽은 덕분에 mock의 목적이 독립적인 단위 테스트 구성을 위한 것임을 알게되었다. 상황에 따라 참이 되거나 거짓이 되는 테스트는 우리에게 아무 것도 보장해주지 않기 때문에, 테스트 결과를 신뢰하기 위해서는 단위 테스트는 항상 동일한 실행 결과를 보장해야 한다. 그러나 다른 함수에 의존하는 함수의 경우에는 의존하는 함수가 항상 같은 결과를 주지 않는 경우(예. fetch response) 테스트 결과는 항상 같은 결과를 보장할 수 없다. 따라서 의존하는 함수나 객체를 흉내내는 함수나 객체가 필요하고 해당 함수나 객체를 test double이라고 부른다는 것을 알게 되었다. test double은 많이 들어봤고, spy, stub… 각각의 차이들도 읽어봤는데 근본적으로 해당 test double들이 어떤 맥락에서 사용이 필요한지를 알게 되었다.(아주 조금 알게 되었다. 언제나 그렇듯 갈길이 멀다…) </p>
</li>
<li><p>각각의 테스트가 독립적으로 동작하는 지 고려하고 작성해야 할 필요성</p>
</li>
</ul>
<h2 id="Affirmation"><a href="#Affirmation" class="headerlink" title="Affirmation"></a>Affirmation</h2><ul>
<li><p>좀 더 생각하면서 테스트를 작성하고, 욕심부리지 않고 tdd로 과제를 수행하기</p>
</li>
<li><p>thunk에 대한 test와 fetch mocking에 대한 내용 정리하기 </p>
</li>
</ul>
</div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2021/09/26/codesum-week-6/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">코드숨 React 5기 - 6주차 회고</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/09/06/codesum-week-4/"><span class="level-item">코드숨 React 5기 - 4주차 회고</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">댓글</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'http://psy082.github.io/2021/09/13/codesum-week-5/';
            this.page.identifier = '2021/09/13/codesum-week-5/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'davlog' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><!--!--><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen  order-3"><div class="card widget"><div class="card-content"><h3 class="menu-label">최근 글</h3><article class="media"><a class="media-left" href="/2021/09/26/codesum-week-6/"><p class="image is-64x64"><img class="thumbnail" src="/img/post/weekly_review.png" alt="코드숨 React 5기 - 6주차 회고"></p></a><div class="media-content size-small"><p><time dateTime="2021-09-26T14:10:00.000Z">2021-09-26</time></p><p class="title is-6"><a class="link-muted" href="/2021/09/26/codesum-week-6/">코드숨 React 5기 - 6주차 회고</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/til/">TIL</a></p></div></article><article class="media"><a class="media-left" href="/2021/09/13/codesum-week-5/"><p class="image is-64x64"><img class="thumbnail" src="/img/post/weekly_review.png" alt="코드숨 React 5기 - 5주차 회고"></p></a><div class="media-content size-small"><p><time dateTime="2021-09-13T14:10:00.000Z">2021-09-13</time></p><p class="title is-6"><a class="link-muted" href="/2021/09/13/codesum-week-5/">코드숨 React 5기 - 5주차 회고</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/til/">TIL</a></p></div></article><article class="media"><a class="media-left" href="/2021/09/06/codesum-week-4/"><p class="image is-64x64"><img class="thumbnail" src="/img/post/weekly_review.png" alt="코드숨 React 5기 - 4주차 회고"></p></a><div class="media-content size-small"><p><time dateTime="2021-09-06T14:10:00.000Z">2021-09-06</time></p><p class="title is-6"><a class="link-muted" href="/2021/09/06/codesum-week-4/">코드숨 React 5기 - 4주차 회고</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/til/">TIL</a></p></div></article><article class="media"><a class="media-left" href="/2021/08/29/codesum-week-3/"><p class="image is-64x64"><img class="thumbnail" src="/img/post/weekly_review.png" alt="코드숨 React 5기 - 3주차 회고"></p></a><div class="media-content size-small"><p><time dateTime="2021-08-29T08:55:00.000Z">2021-08-29</time></p><p class="title is-6"><a class="link-muted" href="/2021/08/29/codesum-week-3/">코드숨 React 5기 - 3주차 회고</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/til/">TIL</a></p></div></article><article class="media"><a class="media-left" href="/2021/08/22/codesum-week-2/"><p class="image is-64x64"><img class="thumbnail" src="/img/post/weekly_review.png" alt="코드숨 React 5기 - 2주차 회고"></p></a><div class="media-content size-small"><p><time dateTime="2021-08-22T08:55:00.000Z">2021-08-22</time></p><p class="title is-6"><a class="link-muted" href="/2021/08/22/codesum-week-2/">코드숨 React 5기 - 2주차 회고</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/til/">TIL</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">카테고리</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">12</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/programming/css/"><span class="level-start"><span class="level-item">CSS</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/programming/html/"><span class="level-start"><span class="level-item">HTML</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/programming/javascript/"><span class="level-start"><span class="level-item">JavaScript</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/programming/git/"><span class="level-start"><span class="level-item">git</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/programming/%EA%B8%B0%ED%83%80/"><span class="level-start"><span class="level-item">기타</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/til/"><span class="level-start"><span class="level-item">TIL</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%EA%B0%9C%EC%9D%B8%EC%A0%81%EC%9D%B8/"><span class="level-start"><span class="level-item">개인적인</span></span><span class="level-end"><span class="level-item tag">7</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/%EA%B0%9C%EC%9D%B8%EC%A0%81%EC%9D%B8/%EB%AC%B5%EC%83%81/"><span class="level-start"><span class="level-item">묵상</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%EA%B0%9C%EC%9D%B8%EC%A0%81%EC%9D%B8/%EC%97%90%EC%84%B8%EC%9D%B4/"><span class="level-start"><span class="level-item">에세이</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/default/dev_logo.jpeg" alt="dev&#039;log" height="28"></a><p class="size-small"><span>&copy; 2021 Dave Kim</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/psy082/psy082.git"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'http://psy082.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Zurück nach oben" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="입력 하세요..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"입력 하세요...","untitled":"(Untitled)","posts":"포스트","pages":"Pages","categories":"카테고리","tags":"태그"});
        });</script></body></html>