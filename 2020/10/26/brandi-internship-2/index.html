<!doctype html>
<html lang="ko"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Brandi Internship - Part 2 - dev&#039;log</title><meta description="Dave&amp;#39;s blog"><meta property="og:type" content="blog"><meta property="og:title" content="Brandi Internship - Part 2"><meta property="og:url" content="http://psy082.github.io/"><meta property="og:site_name" content="dev&#039;log"><meta property="og:description" content="Dave&amp;#39;s blog"><meta property="og:locale" content="ko_KR"><meta property="article:published_time" content="2020-10-26T10:18:47.000Z"><meta property="article:modified_time" content="2020-10-27T07:51:10.705Z"><meta property="article:author" content="Dave Kim"><meta property="article:tag" content="programming"><meta property="article:tag" content=" web"><meta property="article:tag" content=" http"><meta property="article:tag" content=" react"><meta property="article:tag" content=" django"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="http://psy082.github.io/img/default/dev_logo.jpeg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://psy082.github.io/2020/10/26/brandi-internship-2/"},"headline":"dev'log","image":["http://psy082.github.io/img/post/wecode.png"],"datePublished":"2020-10-26T10:18:47.000Z","dateModified":"2020-10-27T07:51:10.705Z","author":{"@type":"Person","name":"Dave Kim"},"description":"인턴쉽 2주차 시작처음 브랜디 인턴쉽 시작할 때, 브랜디 측에서 일정에 대해서 혼동한 부분이 있었는데, 본래 15일까지 진행되야 했던 인턴쉽이 8일까지라고 잘못 전달되었었다. 그렇다면 웹팩을 설정한 후 남은 기간은 3주밖에 되지 않았다.(고 생각했다. 나중에 다시 15일까지라는 것을 전달받아서 사실을 4주였다.) 짧은 시간동안에 많은 페이지를 그리려면 한꺼"}</script><link rel="canonical" href="http://psy082.github.io/2020/10/26/brandi-internship-2/"><link rel="icon" href="/img/default/web-development.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-163248250-1" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-163248250-1');</script><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/default/dev_logo.jpeg" alt="dev&#039;log" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/psy082/psy082.git"><i class="fab fa-github"></i></a><a class="navbar-item search" title="검색" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-9-tablet is-9-desktop is-9-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="thumbnail" src="/img/post/wecode.png" alt="Brandi Internship - Part 2"></span></div><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-10-26T10:18:47.000Z" title="2020-10-26T10:18:47.000Z">2020-10-26</time><span class="level-item"><a class="link-muted" href="/categories/%EA%B0%9C%EC%9D%B8%EC%A0%81%EC%9D%B8/">개인적인</a><span> / </span><a class="link-muted" href="/categories/%EA%B0%9C%EC%9D%B8%EC%A0%81%EC%9D%B8/%EC%97%90%EC%84%B8%EC%9D%B4/">에세이</a></span></div></div><h1 class="title is-3 is-size-4-mobile">Brandi Internship - Part 2</h1><div class="content"><h2 id="인턴쉽-2주차-시작"><a href="#인턴쉽-2주차-시작" class="headerlink" title="인턴쉽 2주차 시작"></a>인턴쉽 2주차 시작</h2><p>처음 브랜디 인턴쉽 시작할 때, 브랜디 측에서 일정에 대해서 혼동한 부분이 있었는데, 본래 15일까지 진행되야 했던 인턴쉽이 8일까지라고 잘못 전달되었었다. 그렇다면 웹팩을 설정한 후 남은 기간은 3주밖에 되지 않았다.(고 생각했다. 나중에 다시 15일까지라는 것을 전달받아서 사실을 4주였다.) 짧은 시간동안에 많은 페이지를 그리려면 한꺼번에 그리는 수밖에 없었다. 그래서 페이지를 관찰해서 작성하는 코드의 숫자를 최소화하면서 효율적으로 코딩을 할 수 있는 부분이 있을 지 찾아보았다.</p>
<a id="more"></a>

<h2 id="10개의-페이지를-1개의-컴포넌트로-그리면-어떨까"><a href="#10개의-페이지를-1개의-컴포넌트로-그리면-어떨까" class="headerlink" title="10개의 페이지를 1개의 컴포넌트로 그리면 어떨까?"></a>10개의 페이지를 1개의 컴포넌트로 그리면 어떨까?</h2><h3 id="관찰-시작"><a href="#관찰-시작" class="headerlink" title="관찰 시작"></a>관찰 시작</h3><p>페이지 관찰을 시작했다. 어드민 페이지에서 큰 카테고리는 주문관리, 취소/환불 관리, 상품 관리, 고객응대관리, 회원 관리가 있었고, 카테고리 하위에 페이지들이 있었다. 다행히도 어드민 페이지는 페이지 간에 유사성이 높았다. 그렇다면 컴포넌트를 만들어서 재사용되게끔 만들면 되었다. 일단 페이지를 관찰한 결과 아래와 같았다.</p>
<br>
<div style="text-align:center">
<img src="/img/post/internship/lookup.png" width="80%" >
</div>
<br>

<p>주문관리, 취소/환불 관리, 상품 관리, 고객응대관리에 속해있는 페이지들은 크게 4개의 요소로 구성되어 있었다. 페이지 제목, 검색 조건을 위한 필터링 박스, breadcrumb, 테이블로 구성되어 있는데, 페이지마다 각 요소의 세부내용이 달랐다. 결과적으로 10개의 페이지를 1개의 컴포넌트에서 그리도록 만들기로 했는데, 그렇게 하기 위해서는 10개의 페이지를 그리는 컴포넌트가 10개의 페이지의 세부 사항들을 다 포괄할 수 있어야 했다. 여기서 vue의 장점이 드러났는데, vue는 코드를 짤 때, 코드를 짜는 사람의 사고를 vue의 구조에 맞추도록 강제한다. vue 파일은 렌더링을 담당하는 template태그, 로직을 담당하는 script태그, 스타일을 담당하는 style 태그로 나누어 진다. 여기서 vue의 사고 방식대로 코드를 짠다면 우리는 데이터 로직과 렌더링 로직을 분리해서 사용할 수 있다. 물론 자유도가 높은 react에서도 가능한 부분이지만 분리가 강제되지는 않기 때문에 쉽게 데이터로직과 렌더링 로직이 분리되지 않은 상태로 짜게 된다. 그러나 vue는 직접적인 데이터 부분을 script에 분리해서 작성하도록 생각을 도와준다.(물론 분리가 안되게 데이터를 전부 template 안에 넣어서 짤 수도 있다. 그런데 이렇게 할거면 vue를 왜 ㅆ..)</p>
<p>다시 돌아가서 각 요소의 세부내용이 다른 부분은 별도의 textMap이라는 파일로 분리했고, textMap에는 화면을 그리는 데 필요한 텍스트 값들(필터링 박스 값들, 테이블의 헤더들 등)을 저장했다. vue에서는 script 부분에서 textMap을 가져와 상태로 저장했고, template 부분에서는 저장한 textMap을 그리는 방식으로 구성했다. 이렇게 구성할 경우 필터링 구성이 변경될 때, 데이터에 해당하는 textMap만 수정하면 되고 렌더링 로직은 수정하지 않아도 된다는 장점이 있었다. 이렇게 구성한 결과 컴포넌트에서는 페이지 uri에 맞는 textMap 값을 읽어서 렌더링 로직에 보내기만 하면 렌더링 로직에서는 받은 값을 그려주기만 하면 되었다. 실제로 프로젝트 후반에 백엔드를 담당한 용민님이 추가적으로 vue를 사용한 페이지 구현에 참여하고 싶다고 하셨을 때, textMap에 정보를 추가하는 정도로도 쉽게 페이지 구현이 될 수 있었다. </p>
<h3 id="컴포넌트-분리하기"><a href="#컴포넌트-분리하기" class="headerlink" title="컴포넌트 분리하기"></a>컴포넌트 분리하기</h3><p>현재까지는 10개의 페이지를 한개의 컴포넌트에서 그리도록 결정했고, 각 페이지들을 구성하는 text 값들을 textMap으로 분리하는 것으로 결정했다. 이제 컴포넌트들을 어떻게 구성할지를 결정해야 했다. 페이지 제목은 별도의 컴포넌트로 분리할 필요없는 작은 부분이었지만, 필터링 박스, breadcrumb, 테이블은 별도의 컴포넌트로 분리할 필요가 있었다. 그런데 4개의 요소들 중에서 특별히 필터링 박스는 내부를 구성하는 form 요소들이 조금씩 달랐다. 필터링 박스의 경우 내부에서 좀 더 작은 컴포넌트들로 쪼개질 필요가 있었다. 10개의 페이지를 관찰한 결과 필터링 박스 내부의 form 요소들을 8개의 종류로 나눠 볼 수 있었다. 결과적으로는 textMap에서 필터링 박스 내부 form 요소들의 타입 값 1~8을 가지도록 했고, 필터링 박스 내부에서는 textMap의 필터링 타입 값에 따라서 그려지거나 그려지지 않도록 했다. 이해를 돕기 위해 작성한 코드를 보면서 설명하겠다.<br><br></p>
<div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div><div style="line-height:130%">43</div><div style="line-height:130%">44</div><div style="line-height:130%">45</div><div style="line-height:130%">46</div><div style="line-height:130%">47</div><div style="line-height:130%">48</div><div style="line-height:130%">49</div><div style="line-height:130%">50</div><div style="line-height:130%">51</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>template<span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>div<span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>PageLoading&nbsp;v<span style="color:#E28964"></span><span style="color:#E28964">-</span><span style="color:#E28964">if</span><span style="color:#E28964">=</span><span style="color:#82C961">"!done"</span>&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">/</span><span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>h3&nbsp;<span style="color:#E28964">class</span><span style="color:#E28964">=</span><span style="color:#82C961">"page-title"</span><span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>small<span style="color:#E28964"></span><span style="color:#E28964">&gt;</span><span style="color:#E28964"></span><span style="color:#E28964">&lt;</span><span style="color:#E28964"></span><span style="color:#E28964">/</span>small<span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span><span style="color:#E28964"></span><span style="color:#E28964">/</span>h3<span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>FilterBox&nbsp;:filters<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"filters"</span>&nbsp;:orderStatus<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"orderStatus"</span>&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">/</span><span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>BreadCrumb&nbsp;:orderStatus<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"orderStatus"</span>&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">/</span><span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>Table</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:table<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"table"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:tableMap<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"tableMap"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:tableId<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"tableId"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:orderStatus<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"orderStatus"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">/</span><span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span><span style="color:#E28964"></span><span style="color:#E28964">/</span>div<span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964"></span><span style="color:#E28964">&lt;</span><span style="color:#E28964"></span><span style="color:#E28964">/</span>template<span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>script<span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;path&nbsp;<span style="color:#E28964">from</span>&nbsp;<span style="color:#82C961">'@/assets/textMap'</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">...</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">export</span>&nbsp;<span style="color:#E28964">default</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">...&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;data()&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">const</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;main,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sub,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filters,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sort,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tableMap,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tableId,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;orderStatus</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">=</span>&nbsp;path[<span style="color:#E28964">this</span>.$route.params.subMenu];</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">return</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;main,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sub,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filters,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sort,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tableMap,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tableId,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;orderStatus:&nbsp;orderStatus&nbsp;?&nbsp;orderStatus&nbsp;:&nbsp;<span style="color:#3387CC">0</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;namespace:&nbsp;<span style="color:#E28964">this</span>.$route.params.subMenu,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;done:&nbsp;<span style="color:#E28964">true</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;};</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;},</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">...</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>

<br>
우선 10개의 페이지를 그리는 컴포넌트 코드이다. 스크립트 태그 안에서는 textMap의 값을 읽어서 저장하고, template태그 안에서는 저장한 textMap 값을 필터링 박스, breadcrumb, 테이블 컴포넌트에 전달한다. 그래서 이 컴포넌트 자체로는 textMap을 전달하는 역할 외에 다른 큰 역할을 부여받지 않았다.(물론 페이지 전환시 loading을 진행하는 역할을 맡긴 했다.) 이제 필터링 박스를 담당하고 있는 컴포넌트 내부를 보면
<br><br>

<div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div><div style="line-height:130%">43</div><div style="line-height:130%">44</div><div style="line-height:130%">45</div><div style="line-height:130%">46</div><div style="line-height:130%">47</div><div style="line-height:130%">48</div><div style="line-height:130%">49</div><div style="line-height:130%">50</div><div style="line-height:130%">51</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>template<span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>div&nbsp;<span style="color:#E28964">class</span><span style="color:#E28964">=</span><span style="color:#82C961">"filter-box"</span><span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>ul&nbsp;<span style="color:#E28964">class</span><span style="color:#E28964">=</span><span style="color:#82C961">"filter-block"</span><span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>li&nbsp;<span style="color:#E28964">class</span><span style="color:#E28964">=</span><span style="color:#82C961">"filter-list"</span>&nbsp;:key<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.title"</span>&nbsp;v<span style="color:#E28964"></span><span style="color:#E28964">-</span><span style="color:#E28964">for</span><span style="color:#E28964">=</span><span style="color:#82C961">"filter&nbsp;of&nbsp;filters"</span><span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>SelectInput&nbsp;v<span style="color:#E28964"></span><span style="color:#E28964">-</span><span style="color:#E28964">if</span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.type&nbsp;===&nbsp;1"</span>&nbsp;:options<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.values"</span>&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">/</span><span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>ButtonDate</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v<span style="color:#E28964"></span><span style="color:#E28964">-</span><span style="color:#E28964">if</span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.type&nbsp;===&nbsp;2"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:title<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.title"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:buttons<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.values"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:<span style="color:#E28964">default</span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.default"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">/</span><span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>SingleButtons</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v<span style="color:#E28964"></span><span style="color:#E28964">-</span><span style="color:#E28964">if</span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.type&nbsp;===&nbsp;3"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:title<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.title"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:buttons<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.values"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:filterKey<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.key"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:<span style="color:#E28964">default</span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.default"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">/</span><span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>MultiButtons</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v<span style="color:#E28964"></span><span style="color:#E28964">-</span><span style="color:#E28964">if</span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.type&nbsp;===&nbsp;4"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:title<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.title"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:buttons<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.values"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:<span style="color:#E28964">default</span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.default"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">/</span><span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span><span style="color:#E28964">Date</span>&nbsp;v<span style="color:#E28964"></span><span style="color:#E28964">-</span><span style="color:#E28964">if</span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.type&nbsp;===&nbsp;5"</span>&nbsp;:title<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.title"</span>&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">/</span><span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>Input</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v<span style="color:#E28964"></span><span style="color:#E28964">-</span><span style="color:#E28964">if</span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.type&nbsp;===&nbsp;6"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:title<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.title"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:filterKey<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.key"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:placeholder<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.values"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">/</span><span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>SelectDate</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v<span style="color:#E28964"></span><span style="color:#E28964">-</span><span style="color:#E28964">if</span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.type&nbsp;===&nbsp;7"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:options<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.select"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:buttons<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.values"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:<span style="color:#E28964">default</span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.default"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">/</span><span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>Select</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v<span style="color:#E28964"></span><span style="color:#E28964">-</span><span style="color:#E28964">if</span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.type&nbsp;===&nbsp;8"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:title<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.title"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:filterKey<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.key"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:options<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"filter.values"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">/</span><span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span><span style="color:#E28964"></span><span style="color:#E28964">/</span>li<span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span><span style="color:#E28964"></span><span style="color:#E28964">/</span>ul<span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>div&nbsp;<span style="color:#E28964">class</span><span style="color:#E28964">=</span><span style="color:#82C961">"filter-action"</span><span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>div&nbsp;<span style="color:#E28964">class</span><span style="color:#E28964">=</span><span style="color:#82C961">"button&nbsp;search"</span>&nbsp;@click<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"searchResult"</span><span style="color:#E28964"></span><span style="color:#E28964">&gt;</span>검색<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span><span style="color:#E28964"></span><span style="color:#E28964">/</span>div<span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span>div&nbsp;<span style="color:#E28964">class</span><span style="color:#E28964">=</span><span style="color:#82C961">"button&nbsp;reset"</span>&nbsp;@click<span style="color:#E28964"></span><span style="color:#E28964">=</span><span style="color:#82C961">"reset"</span><span style="color:#E28964"></span><span style="color:#E28964">&gt;</span>초기화<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span><span style="color:#E28964"></span><span style="color:#E28964">/</span>div<span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span><span style="color:#E28964"></span><span style="color:#E28964">/</span>div<span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">&lt;</span><span style="color:#E28964"></span><span style="color:#E28964">/</span>div<span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964"></span><span style="color:#E28964">&lt;</span><span style="color:#E28964"></span><span style="color:#E28964">/</span>template<span style="color:#E28964"></span><span style="color:#E28964">&gt;</span></div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>

<br>
필터링 박스 컴포넌트에서는 전달 받은 textMap의 type값을 확인해서 해당 type 값에 해당하는 form 요소만 그려준다. 따라서 페이지가 추가되었거나 특정 페이지의 필터 요소가 변경될 경우에는 textMap값만 변경하면 렌더링 로직을 변경하지 않고도 변경된 사항이 그려진다.

<h3 id="api-통신-고려하기"><a href="#api-통신-고려하기" class="headerlink" title="api 통신 고려하기"></a>api 통신 고려하기</h3><p>그런데 textMap을 구성할 때, 한가지 더 고려할 점이 있었다. 필터링 박스에 해당하는 textMap의 경우 단순히 그림을 그리는 데이터만 있어서는 안되었다. 왜냐하면 선택된 필터 값들은 실제 백엔드에 요청하는 값이 되어야 했기 때문이다. 따라서 textMap은  화면에 표시될 text 값과 백엔드에 보낼 필터 값 2가지 모두를 가지고 있어야 했다. 따라서 textMap은 객체로 만들어졌고, key는 백엔드로 보내는 필터 값, value는 화면에 표시될 text 값으로 구성했다. 아래의 코드는 textMap의 일부이다. 상품에 대한 검색을 할 때 필요한 text 값인데, 백엔드에 보낼 값이 PRODUCT_NAME이라면 해당 값은 화면에 상품명으로 그려진다.<br><br></p>
<div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%">...</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">export</span>&nbsp;<span style="color:#E28964">const</span>&nbsp;PRODUCT_SELECT&nbsp;<span style="color:#E28964"></span><span style="color:#E28964">=</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;PRODUCT_NAME:&nbsp;<span style="color:#82C961">'상품명'</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;PRODUCT_NO:&nbsp;<span style="color:#82C961">'상품번호'</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;PRODUCT_CD:&nbsp;<span style="color:#82C961">'상품코드'</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">};</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">...</div></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>

<br>
그렇다면 유저가 선택한 특정 값, 필터링된 값들은 어디에 저장을 해야 할까? 여기서 2가지의 선택지가 있는데, 하나는 부모 컴포넌트 필터링 박스에서 값을 가지고 있고 자식 form 요소들에 이벤트가 발생했을 때 부모 컴포넌트의 값을 가지도록 하는 방법이다. 다른 방법은 vuex를 사용해서 모든 필터링 값들을 vuex에서 관리하도록 하는 방법이다. 2가지 방법 모두가 장단점이 있었다. 우선 생각을 해보면 중요한 건 데이터와 데이터를 처리하는 로직이고 이 부분의 역할을 컴포넌트가 가질지 vuex가 가질지를 정해야 한다. 컴포넌트가 이 역할을 가진다면 컴포넌트 자체가 독립적이며 의존성이 적은, 좀 더 자유롭게 다른 컴포넌트와 조합이 가능한 컴포넌트를 만들 수 있다. 여기서 또 새롭게 고려할 지점이 생겼는데, 사실 자식이 부모의 상태 값을 바꾸는 것은 vue에서 편리하게 만들 수 있기 때문에 부모가 값을 전부 가지고 있고 상태 값을 처리하는 메소드를 자식 컴포넌트에 넘겨주게 할 수 있다. 하지만 이 경우 부모 컴포넌트의 데이터 로직이 너무 길어진다. 그렇다고 거꾸로 자식이 값을 가지고 있다면 검색이나 초기화 같은 기능을 사용할 때 부모에서 이벤트가 발생하면 자식의 상태 값을 바꾸도록 이벤트 버스를 관리해야 하는데 관리해야 할 상태값과 컴포넌트의 수가 적지 않아서 불편해진다. 그래서 결론적으로 vuex를 사용하기로 결정했다. vuex를 사용한다면 의존성이 생겨서 자유롭게 다른 컴포넌트와 조합이 가능하지는 않지만, 컴포넌트 간 구성이 사실상 정해진 상태이고 vuex만 잘 관리한다면 컴포넌트 구성을 고정한 상태로는 비교적 변화에 유연하게 코드를 구성할 수 있다. 그래서 결과적으로 아래와 같은 구성이 되었다.
<br><br>

<div style="text-align:center">
<img src="/img/post/internship/dataflow_lookup.png" width="80%" >
</div>
<br>

<p>정적인 데이터 textMap은 lookup 컴포넌트에서 읽어서 자식 컴포넌트에 전달을 하고, 동적인 상태값들은 각 컴포넌트에서 vuex를 사용하도록 했다. vuex에서는 동적인 상태값들을 관리하고, 저장된 상태값을 사용하여 api 통신도 담당한다. 마지막으로 다음 글에서는 이번 프로젝트에서 vuex를 어떻게 사용했는지를 정리하겠다.</p>
</div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2020/10/27/brandi-internship-3/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Brandi Internship - Part 3</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2020/10/25/brandi-internship-1/"><span class="level-item">Brandi Internship - Part 1</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">댓글</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'http://psy082.github.io/2020/10/26/brandi-internship-2/';
            this.page.identifier = '2020/10/26/brandi-internship-2/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'davlog' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><!--!--><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen  order-3"><div class="card widget"><div class="card-content"><h3 class="menu-label">최근 글</h3><article class="media"><a class="media-left" href="/2021/08/29/codesum-week-3/"><p class="image is-64x64"><img class="thumbnail" src="/img/post/weekly_review.png" alt="코드숨 React 5기 - 3주차 회고"></p></a><div class="media-content size-small"><p><time dateTime="2021-08-29T08:55:00.000Z">2021-08-29</time></p><p class="title is-6"><a class="link-muted" href="/2021/08/29/codesum-week-3/">코드숨 React 5기 - 3주차 회고</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/til/">TIL</a></p></div></article><article class="media"><a class="media-left" href="/2021/08/22/codesum-week-2/"><p class="image is-64x64"><img class="thumbnail" src="/img/post/weekly_review.png" alt="코드숨 React 5기 - 2주차 회고"></p></a><div class="media-content size-small"><p><time dateTime="2021-08-22T08:55:00.000Z">2021-08-22</time></p><p class="title is-6"><a class="link-muted" href="/2021/08/22/codesum-week-2/">코드숨 React 5기 - 2주차 회고</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/til/">TIL</a></p></div></article><article class="media"><a class="media-left" href="/2021/08/15/codesum-week-1/"><p class="image is-64x64"><img class="thumbnail" src="/img/post/weekly_review.png" alt="코드숨 React 5기 - 1주차 회고"></p></a><div class="media-content size-small"><p><time dateTime="2021-08-15T14:51:47.000Z">2021-08-15</time></p><p class="title is-6"><a class="link-muted" href="/2021/08/15/codesum-week-1/">코드숨 React 5기 - 1주차 회고</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/til/">TIL</a></p></div></article><article class="media"><a class="media-left" href="/2021/02/25/seminar-execution-context/"><p class="image is-64x64"><img class="thumbnail" src="/img/post/JavaScriptImg.png" alt="JS 실행 컨텍스트 이해하기"></p></a><div class="media-content size-small"><p><time dateTime="2021-02-25T11:50:00.000Z">2021-02-25</time></p><p class="title is-6"><a class="link-muted" href="/2021/02/25/seminar-execution-context/">JS 실행 컨텍스트 이해하기</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/programming/">Programming</a> / <a class="link-muted" href="/categories/programming/javascript/">JavaScript</a></p></div></article><article class="media"><a class="media-left" href="/2020/10/27/brandi-internship-3/"><p class="image is-64x64"><img class="thumbnail" src="/img/post/wecode.png" alt="Brandi Internship - Part 3"></p></a><div class="media-content size-small"><p><time dateTime="2020-10-27T10:18:47.000Z">2020-10-27</time></p><p class="title is-6"><a class="link-muted" href="/2020/10/27/brandi-internship-3/">Brandi Internship - Part 3</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/%EA%B0%9C%EC%9D%B8%EC%A0%81%EC%9D%B8/">개인적인</a> / <a class="link-muted" href="/categories/%EA%B0%9C%EC%9D%B8%EC%A0%81%EC%9D%B8/%EC%97%90%EC%84%B8%EC%9D%B4/">에세이</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">카테고리</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">12</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/programming/css/"><span class="level-start"><span class="level-item">CSS</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/programming/html/"><span class="level-start"><span class="level-item">HTML</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/programming/javascript/"><span class="level-start"><span class="level-item">JavaScript</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/programming/git/"><span class="level-start"><span class="level-item">git</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/programming/%EA%B8%B0%ED%83%80/"><span class="level-start"><span class="level-item">기타</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/til/"><span class="level-start"><span class="level-item">TIL</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%EA%B0%9C%EC%9D%B8%EC%A0%81%EC%9D%B8/"><span class="level-start"><span class="level-item">개인적인</span></span><span class="level-end"><span class="level-item tag">7</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/%EA%B0%9C%EC%9D%B8%EC%A0%81%EC%9D%B8/%EB%AC%B5%EC%83%81/"><span class="level-start"><span class="level-item">묵상</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%EA%B0%9C%EC%9D%B8%EC%A0%81%EC%9D%B8/%EC%97%90%EC%84%B8%EC%9D%B4/"><span class="level-start"><span class="level-item">에세이</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/default/dev_logo.jpeg" alt="dev&#039;log" height="28"></a><p class="size-small"><span>&copy; 2021 Dave Kim</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/psy082/psy082.git"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'http://psy082.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="입력 하세요..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"입력 하세요...","untitled":"(Untitled)","posts":"포스트","pages":"Pages","categories":"카테고리","tags":"태그"});
        });</script></body></html>